---
import type { ImageProps } from '@integration/images/types';
import { resolveImageProps } from '@integration/images/utils/props';

export type Props = ImageProps;

const { src, alt, fit, position, loading, decoding, sources } = resolveImageProps(Astro.props);

const imageProps = {
    src,
    alt,
    fit,
    position,
    loading,
    decoding,
};
---

<picture>
    {sources.map(attrs => <source {...attrs} />)}
    <img {...imageProps} />
</picture>
