---
import Figure from '@components/mdx/Figure.astro';
import type { ImageProps } from '~/integration/images/types';

export type Props = ImageProps;

const props = Astro.props;
---

<div class="hero">
    <Figure {...props} />
</div>

<style is:global>
    .hero {
        --hero-width: 101vw;
        margin-bottom: var(--layout-gap);
    }

    .hero figure picture {
        position: relative;
        width: auto;
        max-width: initial;
        width: var(--hero-width);
        min-width: var(--hero-width);
        max-width: var(--hero-width);
        min-height: 100%;
        max-height: 100%;
        margin-left: calc(-1 * var(--layout-gutter));
    }

    .hero figure picture img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }

    @media screen and (min-width: 650px) {
        .hero figure picture {
            margin-left: calc(-1 * (50vw - var(--layout-container-width) / 2));
        }
    }

    @media screen and (min-width: 1060px) {
        .hero {
            --hero-width: calc(100vw - var(--layout-col-1) - var(--layout-gap));
        }

        .hero figure picture {
            margin-left: calc(-1 * var(--layout-gutter));
        }
    }

    @media screen and (min-width: 1420px) {
        .hero figure picture {
            --hero-width: calc(
                101vw - var(--layout-col-1) - var(--layout-bi-col-2) + var(--layout-space)
            );
        }
    }
</style>
