{"version":3,"sources":["webpack://Slidy/webpack/universalModuleDefinition","webpack://Slidy/./src/Carousel.js","webpack://Slidy/./src/Controls.js","webpack://Slidy/./src/Registry.js","webpack://Slidy/./src/constants.js","webpack://Slidy/./src/ui.js","webpack://Slidy/./src/util/dom.js","webpack://Slidy/./src/svg/arrow.svg","webpack://Slidy/webpack/bootstrap","webpack://Slidy/webpack/runtime/compat get default export","webpack://Slidy/webpack/runtime/define property getters","webpack://Slidy/webpack/runtime/hasOwnProperty shorthand","webpack://Slidy/webpack/runtime/make namespace object","webpack://Slidy/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","Carousel","container","this","_container","_slides","children","createDom","track","prev","next","_frames","map","slide","appendToTrack","_track","_prev","_next","width","getWidth","applyStyleToFrames","applyStyleToTrack","length","classList","add","makeClass","ROOT","READY","_controls","Controls","forEach","node","remove","appendChild","destroy","frames","_index","_updateTrack","addEventListener","CLICK","_handlePrev","_handleNext","_resizeObserver","ResizeObserver","_updateSize","observe","disconnect","removeEventListener","_width","animate","count","clearTimeout","_timeout","setTimeout","ANIMATION_SPEED","Registry","_instances","instance","push","index","indexOf","splice","DIV","BUTTON","PREV","NEXT","name","createButton","frag","span","createNode","svg","innerHTML","arrow","childNodes","viewport","appendNode","frame","style","transform","transition","type","className","content","element","document","createElement","Array","isArray","parent","child","getBoundingClientRect","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","__registry","Slidy","auto","console","log","create","options","registry","contains","Error","slidy"],"mappings":"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","file":"slidy.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Slidy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Slidy\"] = factory();\n\telse\n\t\troot[\"Slidy\"] = factory();\n})(self, function() {\nreturn ","import { getWidth } from './util/dom';\n\nimport { READY, ROOT } from './constants';\nimport {\n  appendToTrack,\n  applyStyleToFrames,\n  applyStyleToTrack,\n  createDom,\n  makeClass\n} from './ui';\nimport { Controls } from './Controls';\n\nexport class Carousel {\n  constructor(container, options = {}) {\n    this._container = container;\n    this._slides = [...container.children];\n\n    const { track, prev, next } = createDom(container);\n    this._frames = this._slides.map((slide) => appendToTrack(slide, track));\n    this._track = track;\n    this._prev = prev;\n    this._next = next;\n\n    const width = getWidth(container);\n    applyStyleToFrames(this._frames, width);\n    applyStyleToTrack(track, this._frames.length, width);\n    container.classList.add(makeClass(ROOT), makeClass(READY));\n\n    this._controls = new Controls(container, this._frames, track, prev, next);\n  }\n\n  destroy() {\n    const nodes = [...this._frames, ...this._container.children];\n    nodes.forEach((node) => node.remove());\n    this._slides.forEach((slide) => this._container.appendChild(slide));\n    this._container.classList.remove(makeClass(ROOT), makeClass(READY));\n    this._controls.destroy();\n  }\n}\n","import { getWidth } from './util/dom';\n\nimport { applyStyleToFrames, applyStyleToTrack } from './ui';\nimport { ANIMATION_SPEED, CLICK } from './constants';\n\nexport class Controls {\n  constructor(container, frames, track, prev, next) {\n    this._index = 0;\n    this._container = container;\n    this._frames = frames;\n    this._track = track;\n    this._prev = prev;\n    this._next = next;\n\n    prev.addEventListener(CLICK, this._handlePrev);\n    next.addEventListener(CLICK, this._handleNext);\n    this._resizeObserver = new ResizeObserver(() => this._updateSize());\n    this._resizeObserver.observe(this._container);\n  }\n\n  destroy() {\n    this._resizeObserver.disconnect();\n    this._prev.removeEventListener(CLICK, this._handlePrev);\n    this._next.removeEventListener(CLICK, this._handleNext);\n  }\n\n  _updateSize() {\n    this._width = getWidth(this._container);\n    applyStyleToFrames(this._frames, this._width);\n    this._updateTrack();\n  }\n\n  _updateTrack(animate = false) {\n    const { _frames, _track, _width, _index } = this;\n    const count = _frames.length;\n    applyStyleToTrack(_track, count, _width, _index, animate);\n    clearTimeout(this._timeout);\n    if (animate) {\n      // in the future: https://developer.mozilla.org/en-US/docs/Web/API/AnimationEvent\n      this._timeout = setTimeout(() => this._updateTrack(), ANIMATION_SPEED);\n    }\n  }\n\n  _handlePrev = () => {\n    if (!this._index) {\n      return;\n    }\n    this._index--;\n    this._updateTrack(true);\n  };\n\n  _handleNext = () => {\n    if (this._index === this._frames.length - 1) {\n      return;\n    }\n    this._index++;\n    this._updateTrack(true);\n  };\n}\n","export class Registry {\n  constructor() {\n    this._instances = [];\n  }\n\n  add(instance) {\n    this._instances.push(instance);\n  }\n\n  remove(instance) {\n    const index = this._instances.indexOf(instance);\n    this._instances.splice(index, 1);\n  }\n}\n","export const CLICK = 'click';\nexport const DIV = 'div';\nexport const BUTTON = 'button';\nexport const PREV = 'prev';\nexport const NEXT = 'next';\nexport const READY = 'is-ready';\nexport const ROOT = 'root';\n\nexport const ANIMATION_SPEED = 500;\n","import { appendNode, createNode } from './util/dom';\n\nimport { ANIMATION_SPEED, BUTTON, DIV, NEXT, PREV } from './constants';\nimport arrow from './svg/arrow.svg';\n\nexport const makeClass = (name) => `slidy-${name}`;\n\nconst createSvg = () => {\n  const frag = createNode(DIV);\n  frag.innerHTML = arrow;\n  return frag.childNodes[0];\n};\n\nconst createButton = (name) => {\n  const span = createNode('span', null, name);\n  const svg = createSvg();\n  const button = createNode(BUTTON, makeClass(name), [span, svg]);\n  return button;\n};\n\nexport const createDom = (container) => {\n  const track = createNode(DIV, makeClass('track'));\n  const viewport = createNode(DIV, makeClass('viewport'), track);\n  const prev = createButton(PREV);\n  const next = createButton(NEXT);\n  appendNode(container, prev);\n  appendNode(container, viewport);\n  appendNode(container, next);\n  return { track, prev, next };\n};\n\nexport const appendToTrack = (slide, track) => {\n  const frame = createNode(DIV, makeClass('frame'));\n  appendNode(frame, slide);\n  appendNode(track, frame);\n  return frame;\n};\n\nexport const applyStyleToFrames = (frames, width) =>\n  frames.forEach((frame) => (frame.style.width = `${width}px`));\n\nexport const applyStyleToTrack = (\n  track,\n  count,\n  width,\n  index = 0,\n  animate = false\n) => {\n  const style = track.style;\n  style.width = `${width * count}px`;\n  style.transform = `translate3d(${-index * width}px, 0px, 0px)`;\n  style.transition = animate ? `transform ${ANIMATION_SPEED}ms ease` : '';\n};\n","export const createNode = (type, className, content) => {\n  const element = document.createElement(type);\n  if (className) {\n    element.className = className;\n  }\n  if (Array.isArray(content)) {\n    content.forEach((node) => appendNode(element, node));\n  } else if (typeof content === 'string') {\n    element.innerHTML = content;\n  } else if (content) {\n    appendNode(element, content);\n  }\n  return element;\n};\n\nexport const appendNode = (parent, child) => {\n  parent.appendChild(child);\n};\n\nexport const getWidth = (container) => container.getBoundingClientRect().width;\n","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 48 48\\\"><path d=\\\"M20 12l-2.83 2.83 9.17 9.17-9.17 9.17 2.83 2.83 12-12z\\\"></path><path d=\\\"M0 0h48v48h-48z\\\" fill=\\\"none\\\"></path></svg>\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { ROOT } from './constants';\nimport { makeClass } from './ui';\nimport { Registry } from './Registry';\nimport { Carousel } from './Carousel';\n\nimport './styles/index.css';\n\nlet __registry;\n\nconst _registry = function () {\n  if (!__registry) {\n    __registry = new Registry();\n  }\n  return __registry;\n};\n\nconst auto = function () {\n  console.log('!');\n};\n\nconst create = (container, options) => {\n  const registry = _registry();\n\n  if (container.classList.contains(makeClass(ROOT))) {\n    throw new Error('DOM element is already a Slidy.');\n  }\n\n  const slidy = new Carousel(container, options);\n  registry.add(slidy);\n  slidy.destroy = () => {\n    registry.remove(slidy);\n    Carousel.prototype.destroy.apply(slidy);\n  };\n  return slidy;\n};\n\nconst destroy = () => {};\n\nconst Slidy = {\n  auto,\n  create,\n  destroy\n};\n\nexport default Slidy;\n"],"sourceRoot":""}